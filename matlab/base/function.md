---
author: lunar
date: Wed Aug 19 22:10:10 2020
---

### MATLAB函数

在MATLAB中，函数在单独的文件中定义，文件名与函数的名称一致。

函数在自己的工作空间内的变量上运行，这个变量也称为本地工作空间。与命令行访问到的基本工作区不同。

函数可以接受多个参数，也可以返回多个参数。

函数定义的语法为

```matlab
function [out1, out2,...] = myfunc(in1, in2,...)
    <statements>
end
```

如果是void类型的函数

`function myfunc(in1, in2, ...)`

如果既没有输出，又没有输入

`function myfunc`

调用时同样不需要括号。

可见，MATLAB的函数定义非常特异。myfunc为函数名。

在函数语句后接着可以写一些介绍函数的注释语句。在命令行通过命令`help myfunc`可以查看这些注释。

#### 参数缺省

当确认输入参数可能存在缺省时，可以通过`nargin`变量判断输入变量的数量。

#### 输出值缺省

MATLAB函数存在多个输出变量的情况。有时可能只需要输出变量中的一部分，如果使用占位符`~`来占用不需要的输出变量的位置。

如
```matlab
default = out()
[a,~,~]= out()
[~,b,~] = out()
[~,~,c] = out()
function  [a,b,c] = out()
  a = 1;
  b = 2;
  c = 3;
end
```

#### 匿名函数

有时只需要通过函数实现一个简单的功能，就没必要再建一个文件写函数，而是写一个匿名函数。

语法格式为
`f = @(arglist)expression`

如实现幂函数
`power = @(x, n)x.*n;`

#### 主函数和次函数

新建一个函数文件时，会有主函数和次函数之分。

主函数即与文件名相同的那个函数，而次函数用于服务主函数。

#### 嵌套函数

嵌套函数即定义在函数内部函数，与普通函数的定义并无不同。

嵌套函数可以访问包含它的函数的工作区间。

#### 私有函数

如果一个函数不想被其它部分函数所访问。则可以将其定义为私有函数。

私有函数并不是通过什么关键字。定义私有函数时，需要在当前文件夹下建立一个名为private的文件夹。

该文件夹的所有函数被定义为私有函数，私有函数仅仅对父文件夹下的函数可见。

#### 全局变量

全局变量可以由多个函数共享，一般在使用之前需要使用`global`关键字特别声明为全局变量。

全局变量在使用之前需要先声明。

一般将全局变量用大写字母命名以区分于其它变量。
