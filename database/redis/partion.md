---
author: lunar
date: Thu 06 Aug 2020 02:16:41 PM CST
---

### **Redis分区**

分区用于将Redis数据拆分为多个Redis实例，以便每个实例仅包含一部分密钥。

通常包含范围分区和哈希分区

#### 范围分区

通过将对象的范围映射到特定的Redis实例来完成

例如：

假设您有3000个用户。因此，您可以说从ID 0到ID 1000的用户将进入实例R0，而用户表单ID 1001到ID 2000将进入实例R1，用户表单ID 2001到ID 3000将进入实例R2，依此类推。

#### 哈希分区

哈希分区是范围分区的替代方法。在哈希分区中，哈希函数用于将密钥转换为数字，然后将数据存储在不同的Redis实例中。

#### 分区的优点

- 分区有助于使用多台计算机的集体内存。对于大型的数据库，分区可以使用多台计算机的内存总和。
- 分区可以将计算能力扩展到多个核心和多台计算机，以及网络带宽扩展到多个计算机和网络适配器

#### 分区的缺点

- 分区通常不支持多个键的操作。如果两个集合存储在映射到不同Redis实例的键中，则无法执行它们的交集
- 分区不支持具有多个密钥的事务
- 添加和删除容量可能很复杂