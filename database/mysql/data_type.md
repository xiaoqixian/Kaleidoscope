---
author: lunar
date: Thu 30 Jul 2020 08:38:19 PM CST
---

### **mysql中的数据类型**

1. 数值类型

   - 整型

     | 类型      | 字节 |
     | --------- | ---- |
     | tinyint   | 1    |
     | smallint  | 2    |
     | mediumint | 3    |
     | int       | 4    |
     | bigint    | 8    |

     默认存在符号位，unsigned属性修改。

     MySQL不存在bool类型，通过tinyint进行表示，0表示false，1表示true。

   - 浮点型

     | 类型             | 字节 |
     | ---------------- | ---- |
     | float（单精度）  | 4    |
     | double（双精度） | 8    |

     浮点型同样支持符号位。

     定义浮点数时，需要指定总位数和小数位数。

     float(M, D) 	double(M, D)

     M表示总位数，D表示小数位数

     支持科学计数法表示

   - 定点数

     decimal  可变长度

     decimal(M, D)  M表示总位数，D表示小数位数

     保存一个精确的数值，不会发生数据的改变，不同于浮点数的四舍五入。

     **将浮点数转换为字符串来保存，每9位数字保存为4个字节**。

2. 字符串类型

   - char, varchar

     char表示定长字符串，速度快，但是浪费空间。最多255个字符，与编码无关。

     varchar表示可变长度字符串，速度慢，但是节省空间。最多65532个字符，与编码有关。之所以最大长度是65531是因为varchar在存储字符串时第一个字节是空的，不会存储任何东西。然后最后两个字节用于存储字符串的长度。所以是65525-3=65532

   - blob, text

     blob 二进制字符串：tinyblob, blob, mediumblob, longblob

     text 非二进制字符串：tinytext, text, mediumtext, longtext

     text在字符串不需要定义长度，也不会计算总长度。不可以给default值。

   - binary, varbinary

     与char和varchar相对应，用于存储二进制字符串。

3. 日期时间类型

   一般用整型保存时间戳，因为PHP可以很方便的将时间戳进行格式化。
       datetime    8字节    日期及时间     1000-01-01 00:00:00 到 9999-12-31 23:59:59
       date        3字节    日期         1000-01-01 到 9999-12-31
       timestamp   4字节    时间戳        19700101000000 到 2038-01-19 03:14:07
       time        3字节    时间         -838:59:59 到 838:59:59
       year        1字节    年份         1901 - 2155
   
4. 枚举和集合

   enum(val1, val2...)

   定义为枚举类型的字段意味着该字段的值只能是定义该字段时的那些值里面的。

   枚举值在保存时，以2个字节的整型保存，按保存的位置顺序，从1开始逐一递增。所谓枚举中最多可以存储65535个值。比如如果你定义enum('male', 'female')两个枚举类型，数据库并不会真的存储这两个字符串，而是存储1和2这两个数。当用户查找时，再将这两个数转化为字符串呈现。

   当往枚举找到插入枚举中不支持的值时，如果MySQL没有开启严格模式，那么依然可以成功插入。但是字符串的值是'0'，以区别正常插入的字符串。

   set(val1, val2...)

   集合的使用场景和枚举很像，但是不同于枚举只能令字段的值等于枚举中的一个。使用集合的话，字段的值可以是集合中的零个或多个。但是不能选集合意外的，集合也不允许出现重复的元素。

   集合存储值的方式和枚举又稍有不同，同样是使用整型表示字段值，由于集合可能存在多个值。所以集合存储的是多个可选字段对应值的和。这就要求这个和有唯一性，所以集合中的每个值都为2的幂次方，这样它们任意组合的和都是唯一的。

